<!DOCTYPE html>

<html xmlns:th="https://www.thymeleaf.org" th:replace="~{fragments/layout :: layout (~{::body},'skills')}">
  <body>
    <h2>Skills</h2>
    <table id="skills" class="table table-striped">
        <thead>
        <tr>
            <th style="width: 150px;">Name</th>
            <th style="width: 200px;">Version</th>
            <th style="width: 200px;">Top 3 Experts</th>
        </tr>
        </thead>
        <tbody>
          <tr th:each="skill : ${skills}">
              <td>
                  <a th:href="@{/skills/__${skill.getSkillId()}__}" th:text="${skill.name}">Skill 1</a>
              </td>
              <td th:text="${skill.version}">Version 33</td>

              <td>
                  <table id="top-experts" class="table table-striped">
                      <thead>
                      <tr>
                          <th>Developer</th>
                          <th>Years</th>
                          <th>Rating</th>
                      </tr>
                      </thead>
                      <tr th:each="exp : ${skill.topThreeExperts()}">
                          <td th:text="${exp.developer.firstName + ' ' + exp.developer.lastName}"></td>
                          <td th:text="${exp.years}"></td>
                          <td th:text="${exp.rating}"></td>
                      </tr>
                  </table>
              </td>
          </tr>
        </tbody>
    </table>
  </body>
</html>
